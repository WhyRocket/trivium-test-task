# Тестовое задание в компанию АО "Тривиум"

## Описание

В данном репозитории расположено решение тестового задания, которое заключается в разработке двух микросервисов:
- **Микросервис справочников**, который возвращает данные из справочников по GET-запросу в формате json
- **Микросервис отчетов**, который формирует и возвращает HTML-таблицу по POST-запросу. Информация для HTML-таблицы запрашивается из микросервиса справочников

В репозитории находится решение, в котором расположены четыре проекта:
- **Dictionaries**: веб-приложение (микросервис справочников), содержащее один GET-метод `/dictionaries`
- **Dictionaries.Entity**: определяет сущности базы данных для микросервиса справочников
- **Reports** - веб-приложение (микросервис отчетов), содержащее один POST-метод `/order`
- **Common** - определяет DTO-классы (используются как в микросервисе справочников, так и в микросервисе отчетов)

## Особенности реализации

- **Микросервис справочников** сделан на основе Minimal API
- **Микросервис отчетов** сделан на основе контроллеров
- В качестве базы данных для микросервиса справочников выбрана SQLite. Добавлены миграции, которые автоматически применяются при запуске микросервиса справочников. Миграции создают базу данных и таблицы, а также добавляют тестовые данные
- В конфигурационный файл `appsettings.json` в микросервисе отчетов добавлен параметр `MicroserviceDictionaryUri`, который позволяет указать URI микросервиса справочников

## Запуск и проверка решения
Для запуска необходимо:
1. Запустить проект **Dictionaries** (start without debugging).
2. Запустить проект **Reports** (start without debugging).
3. Отправить POST-запрос по адресу `http://localhost:5104/order` с телом запроса:

```json
{
    "rows": {
        "dictionaryCode": "PRODUCTS",
        "elementIds": [
            1,
            2,
            3
        ],
        "attributeNames": [
            "Name",
            "Code"
        ]
    },
    "columns": {
        "dictionaryCode": "FACTORIES",
        "elementIds": [
        ],
        "attributeNames": [
            "Name",
            "Region",
            "Year"
        ]
    }
}